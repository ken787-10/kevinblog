---
layout: default-no-header
---

{%- include youtube-styles.html -%}

<style>
  /* ホームページ固有のスタイル */
  
  /* コンテンツセクション */
  .content-section {
    padding: 0 24px 48px;
  }
  
  .section-title {
    font-size: 16px;
    font-weight: 400;
    color: #030303;
    margin: 0 0 16px 0;
  }
  
  /* ビデオグリッド - 4列 */
  .videos-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px 8px;
  }
  
  /* ビデオカード */
  .video-card {
    cursor: pointer;
    width: 100%;
  }
  
  .video-card a {
    text-decoration: none;
    color: inherit;
  }
  
  .thumbnail-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 16:9 */
    background: #f0f0f0;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 8px;
  }
  
  /* カテゴリ別オーバーレイ */
  .category-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.2;
    mix-blend-mode: multiply;
  }
  
  /* カテゴリバッジ */
  .category-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    color: white;
    backdrop-filter: blur(8px);
  }
  
  .thumbnail-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .video-duration {
    position: absolute;
    bottom: 4px;
    right: 4px;
    background: rgba(0,0,0,0.8);
    color: #ffffff;
    padding: 2px 4px;
    border-radius: 2px;
    font-size: 12px;
    font-weight: 500;
  }
  
  .video-meta {
    display: flex;
    gap: 12px;
  }
  
  .video-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: #cc0000;
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 500;
    font-size: 16px;
    flex-shrink: 0;
  }
  
  .video-info {
    flex: 1;
    min-width: 0;
  }
  
  .video-title {
    font-size: 14px;
    font-weight: 500;
    line-height: 20px;
    color: #030303;
    margin: 0 0 4px 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .video-channel {
    font-size: 12px;
    color: #606060;
    line-height: 18px;
    margin: 0;
  }
  
  .video-views-date {
    font-size: 12px;
    color: #606060;
    line-height: 18px;
    margin: 0;
  }
  
  .video-card:hover .video-title {
    color: #000000;
  }
  
  /* モバイル情報デフォルトで非表示 */
  .mobile-video-info {
    display: none;
  }
  
  /* レスポンシブ調整 */
  @media (max-width: 1023px) {
    .videos-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (max-width: 767px) {
    .videos-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .channel-info {
      flex-direction: column;
      align-items: flex-start;
      margin-top: -40px;
    }
    
    .channel-avatar {
      width: 80px;
      height: 80px;
    }
  }
  
  @media (max-width: 768px) {
    .content-section {
      padding: 0;
    }
    
    .section-title {
      font-size: 16px;
      font-weight: 600;
      margin: 24px 16px 16px;
      color: #030303;
    }
    
    .videos-grid {
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    
    .video-card {
      margin-bottom: 0;
    }
    
    .video-card a {
      display: block;
      padding: 16px;
    }
    
    .thumbnail-container {
      padding-bottom: 56.25%;
      border-radius: 12px;
      margin-bottom: 12px;
    }
    
    .video-meta {
      display: none;
    }
    
    .mobile-video-info {
      display: block;
    }
    
    .mobile-video-info .video-title {
      font-size: 16px;
      font-weight: 500;
      line-height: 22px;
      margin-bottom: 4px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      color: #030303;
    }
    
    .video-meta-mobile {
      font-size: 12px;
      color: #606060;
      margin: 0;
    }
    
    .category-badge {
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 600;
    }
    
    /* おすすめ動画セクションのモバイル調整 */
    div[style*="margin-bottom: 48px"] {
      margin-bottom: 24px !important;
    }
    
    div[style*="display: flex; gap: 24px"] {
      flex-direction: column !important;
      gap: 16px !important;
    }
    
    div[style*="width: 424px"] {
      width: 100% !important;
    }
  }
</style>

{%- include youtube-hero.html -%}

<div class="youtube-container">
  
  <!-- メインコンテンツ -->
  <div class="content-section">
    {{ content }}
    
    {%- if site.posts.size > 0 -%}
      {%- if site.data.youtube_settings.featured_post.url -%}
        {%- assign featured_post = site.posts | where: "url", site.data.youtube_settings.featured_post.url | first -%}
        {%- unless featured_post -%}
          {%- assign featured_post = site.posts.first -%}
        {%- endunless -%}
      {%- else -%}
        {%- assign featured_post = site.posts.first -%}
      {%- endif -%}
      
      {%- if featured_post and site.data.youtube_settings.featured_post.enabled != false -%}
      <!-- おすすめ動画 -->
      <div style="margin-bottom: 48px;">
        <h2 class="section-title">おすすめの投稿</h2>
        <div style="display: flex; gap: 24px; margin-bottom: 48px;">
          <!-- 左側: 大きなプレーヤー -->
          <div style="width: 424px; flex-shrink: 0;">
            <div style="position: relative; padding-bottom: 56.25%; background: #000; border-radius: 12px; overflow: hidden;">
              {%- if site.data.youtube_settings.featured_post.youtube_url -%}
                {%- assign video_id = site.data.youtube_settings.featured_post.youtube_url | split: "/" | last | split: "?" | first -%}
                {%- if site.data.youtube_settings.featured_post.youtube_url contains "youtu.be" -%}
                  {%- assign youtube_id = video_id -%}
                {%- else -%}
                  {%- assign youtube_id = site.data.youtube_settings.featured_post.youtube_url | split: "v=" | last | split: "&" | first -%}
                {%- endif -%}
                <iframe src="https://www.youtube.com/embed/{{ youtube_id }}" 
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                </iframe>
              {%- elsif featured_post.image -%}
                <img src="{{ featured_post.image | relative_url }}" 
                     alt="{{ featured_post.title }}" 
                     style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
              {%- else -%}
                <div style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: #202020;">
                  <span style="color: #808080; font-size: 72px;">{{ featured_post.title | slice: 0 }}</span>
                </div>
              {%- endif -%}
              {%- unless site.data.youtube_settings.featured_post.youtube_url -%}
                {%- assign featured_duration = site.data.youtube_settings.featured_post.duration | default: featured_post.duration -%}
                {%- if featured_duration -%}
                <span style="position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.8); color: #fff; padding: 4px 6px; border-radius: 4px; font-size: 12px; font-weight: 500;">{{ featured_duration }}</span>
                {%- endif -%}
              {%- endunless -%}
            </div>
          </div>
          
          <!-- 右側: 動画情報 -->
          <div style="padding: 16px 0;">
            <h3 style="font-size: 20px; font-weight: 500; color: #030303; margin: 0 0 8px 0; line-height: 1.4;">
              <a href="{{ featured_post.url | relative_url }}" style="color: inherit; text-decoration: none;">
                {%- if site.data.youtube_settings.featured_post.title -%}
                  {{ site.data.youtube_settings.featured_post.title | escape }}
                {%- else -%}
                  {{ featured_post.title | escape }}
                {%- endif -%}
              </a>
            </h3>
            <p style="color: #606060; font-size: 13px; line-height: 18px; margin: 0 0 12px 0;">
              {{ site.title }} • 
              {%- assign date_diff = 'now' | date: '%s' | minus: featured_post.date | date: '%s' | divided_by: 86400 -%}
              {%- if date_diff == 0 -%}
                今日
              {%- elsif date_diff == 1 -%}
                1日前
              {%- elsif date_diff < 7 -%}
                {{ date_diff }}日前
              {%- elsif date_diff < 30 -%}
                {%- assign weeks = date_diff | divided_by: 7 -%}
                {{ weeks }}週間前
              {%- elsif date_diff < 365 -%}
                {%- assign months = date_diff | divided_by: 30 -%}
                {{ months }}か月前
              {%- else -%}
                {%- assign years = date_diff | divided_by: 365 -%}
                {{ years }}年前
              {%- endif -%}
            </p>
            <p style="color: #030303; font-size: 14px; line-height: 20px; margin: 0;">
              {%- if site.data.youtube_settings.featured_post.description -%}
                {{ site.data.youtube_settings.featured_post.description | strip_html | strip_newlines }}
              {%- else -%}
                {{ featured_post.excerpt | strip_html | strip_newlines | truncate: 200 }}
              {%- endif -%}
            </p>
          </div>
        </div>
      </div>
      {%- endif -%}
      
      <h2 class="section-title">最新の投稿</h2>
      
      <div class="videos-grid">
        {%- for post in site.posts limit: 12 -%}
        
        <!-- カテゴリ別の配色を設定 -->
        {%- assign category = post.categories[0] | default: "general" -%}
        {%- assign category_lower = category | downcase -%}
        {%- case category_lower -%}
          {%- when "ai" or "機械学習" or "ml" or "chatgpt" -%}
            {%- assign overlay_color = "#6366f1" -%}
            {%- assign badge_bg = "rgba(99, 102, 241, 0.9)" -%}
            {%- assign category_label = "AI・機械学習" -%}
          {%- when "起業" or "startup" or "ビジネス" or "business" -%}
            {%- assign overlay_color = "#f97316" -%}
            {%- assign badge_bg = "rgba(249, 115, 22, 0.9)" -%}
            {%- assign category_label = "起業戦略" -%}
          {%- when "資金調達" or "funding" or "投資" or "investment" -%}
            {%- assign overlay_color = "#3b82f6" -%}
            {%- assign badge_bg = "rgba(59, 130, 246, 0.9)" -%}
            {%- assign category_label = "資金調達" -%}
          {%- when "youtube" or "動画" or "video" -%}
            {%- assign overlay_color = "#ef4444" -%}
            {%- assign badge_bg = "rgba(239, 68, 68, 0.9)" -%}
            {%- assign category_label = "YouTube" -%}
          {%- when "マーケティング" or "marketing" or "seo" -%}
            {%- assign overlay_color = "#10b981" -%}
            {%- assign badge_bg = "rgba(16, 185, 129, 0.9)" -%}
            {%- assign category_label = "マーケティング" -%}
          {%- when "自己成長" or "成長" or "self-improvement" or "personal-growth" -%}
            {%- assign overlay_color = "#8b5cf6" -%}
            {%- assign badge_bg = "rgba(139, 92, 246, 0.9)" -%}
            {%- assign category_label = "自己成長" -%}
          {%- else -%}
            {%- assign overlay_color = "#6b7280" -%}
            {%- assign badge_bg = "rgba(107, 114, 128, 0.9)" -%}
            {%- assign category_label = category | capitalize -%}
        {%- endcase -%}
        
        <div class="video-card">
          <a href="{{ post.url | relative_url }}">
            <!-- サムネイル -->
            <div class="thumbnail-container">
              {%- if post.image -%}
              <img src="{{ post.image | relative_url }}" 
                   alt="{{ post.title }}" 
                   loading="lazy" />
              {%- else -%}
              <div style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: #f0f0f0;">
                <span style="color: #909090; font-size: 48px; opacity: 0.3;">{{ post.title | slice: 0 }}</span>
              </div>
              {%- endif -%}
              <!-- カラーオーバーレイ -->
              <div class="category-overlay" style="background-color: {{ overlay_color }};"></div>
              <!-- カテゴリバッジ -->
              <span class="category-badge" style="background: {{ badge_bg }};">{{ category_label }}</span>
              {%- if post.duration -%}
              <span class="video-duration">{{ post.duration }}</span>
              {%- endif -%}
            </div>
            
            <!-- メタ情報 -->
            <div class="video-meta">
              <div class="video-avatar">K</div>
              <div class="video-info">
                <h3 class="video-title">{{ post.title | escape }}</h3>
                <p class="video-channel">{{ site.title | escape }}</p>
                <p class="video-views-date">
                  {%- assign date_format = "%Y年%m月%d日" -%}
                  {{ post.date | date: date_format }}
                </p>
              </div>
            </div>
            <!-- モバイル用の情報 -->
            <div class="mobile-video-info">
              <h3 class="video-title">{{ post.title | escape }}</h3>
              <p class="video-meta-mobile">
                {%- assign date_format = "%Y年%m月%d日" -%}
                {{ post.date | date: date_format }} • Kevin
              </p>
            </div>
          </a>
        </div>
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</div>